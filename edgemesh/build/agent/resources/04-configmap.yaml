apiVersion: v1
kind: ConfigMap
metadata:
  name: edgemesh-agent-cfg
  namespace: kubeedge
  labels:
    k8s-app: kubeedge
    kubeedge: edgemesh-agent
data:
  edgemesh-agent.yaml: |
    # For more detailed configuration, please refer to: https://edgemesh.netlify.app/reference/config-items.html#edgemesh-agent-cfg
    modules:
      edgeProxy:
        enable: true
        socks5Proxy:
          enable: true
      edgeTunnel:
        enable: true
        relayNodes:
        - nodeName: cloud
          advertiseAddress:
          - 192.168.0.104
        - nodeName: edge3
          advertiseAddress:
          - 192.168.0.103
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: edgemesh-agent-psk
  namespace: kubeedge
  labels:
    k8s-app: kubeedge
    kubeedge: edgemesh-agent
data:
  # Generated by `openssl rand -base64 32`
  # NOTE: Don't use this psk, please regenerate it!!! Please refer to: https://edgemesh.netlify.app/guide/security.html
  psk: BJBwagWBozy9AmjqJZXYYiQG/p+t+UKA0u5/QU4GaPE=
